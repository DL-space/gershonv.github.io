---
title: 面试题积累
date: 2018-07-16 20:46:54
categories: 前端开发随笔
tags: 面试系列
toc: true
comments: true
---

## Javascript

### 正则

1. 匹配正整数

```js
var str = '102'
// 1.  ^(-|\+) 以 - 或者 + 开头 
// 2. ? 表示出现或者不出现
// 3. [1-9] 取值范围，也是首字符的取值范围 
// 4. \d*$ ：* 等价于{0,}，表示出现任意次，有可能不出现。
var reg = /^(-|\+)?[1-9]\d*$/
reg.test(str)
```

2. 用正则吧`[1,2,3,4]`转换成 `'1', '2', '3', '4'`

```js
[1, 2, 3, 4].join().replace(/([^,])/g, "'$1'") // 逗号结尾的字符分组，加引号
```

3. `dgfhfgh254bhku289fgdhdy675gfh` 输出 `[254,289,675]`

```js
var str = 'dgfhfgh254bhku289fgdhdy675gfh'
str.replace(/\d{3}/g, $1 => arr.push(+$1)) // 匹配出现3个数字的字符，+$1 转化为整数

// question 假如要匹配连续出现的数字呢？ ↓↓↓
str.replace(/\d+/g, $1 => arr.push(+$1)) // + 匹配至少出现一次的数字
```

4. 匹配数字范围

```js
// 限制 1000-2000，整数
const reg = /^-?(?:[0-9]{1,3}|1000)$/


```

### 作用域， eventLoop，异步

```js
function f() {
  y = function() {
    x = 2
  }
  return function() {
    var x = 3
    y()
    console.log(this.x)
  }.apply(this, arguments)
}

f() // 2
```

```js
for (var i = 0; i < 5; i++) {
  setTimeout(() => {
    console.log(i)
  }, i * 1000)
} // 结果：每一秒输出一个5

// settimeout 是异步, 每一秒在任务队列中添加任务。等主线执行完成后再执行任务队列里的任务

var => let // 解决变量作用域

// 为for循环头部的let不仅将i绑定到for循环快中，事实上它将其重新绑定到循环体的每一次迭代中，确保上一次迭代结束的值重新被赋值。
// setTimeout里面的function()属于一个新的域，通过 var 定义的变量是无法传入到这个函数执行域中的，通过使用 let 来声明块变量，这时候变量就能作用于这个块，所以 function就能使用 i 这个变量了
```